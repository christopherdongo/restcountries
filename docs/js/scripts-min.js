"use strict";var themeButton=document.getElementById("image"),valor=!0,darkTheme="dark-theme",selectedTheme=localStorage.getItem("selected-theme"),userHasDarkTheme=window.matchMedia("(prefers-color-scheme: dark)").matches,getCurrentTheme=function(){return document.body.classList.contains(darkTheme)?"dark":"light"};selectedTheme?document.body.classList["dark"===selectedTheme?"add":"remove"](darkTheme):userHasDarkTheme&&document.body.classList.add(darkTheme),window.onload=themeButton.addEventListener("click",(function(){document.body.classList.toggle(darkTheme),localStorage.setItem("selected-theme",getCurrentTheme())}));var loader=document.getElementById("loader");window.addEventListener("load",(function(){var e=new URLSearchParams(window.location.search).get("id");e&&getPaisID(e)}));var container=document.getElementById("detail_section2"),getPaisID=function(e){SpinnerViews("block"),setTimeout((function(){var n=JSON.parse(localStorage.getItem("countries")).filter((function(n){return n.cca3===e}));createElementDetails(n),SpinnerViews("none")}),500)},createElementDetails=function(e){var n,t,a,c,o,i=null==e?void 0:e[0];console.log(i);var r=document.createDocumentFragment(),d=document.createElement("article"),l=document.createElement("div"),s=document.createElement("div"),m=document.createElement("div"),u=document.createElement("div"),p=document.createElement("div"),g=document.createElement("div"),h=document.createElement("img"),_=document.createElement("h1"),v=document.createElement("p"),f=document.createElement("p"),E=document.createElement("p"),C=document.createElement("p"),N=document.createElement("p"),L=document.createElement("p"),T=document.createElement("p"),S=document.createElement("p"),b=document.createElement("h2");d.classList="container-details__article",l.className="container-details__details-div1",l.id="details-div1",s.className="container-details__details-div2",s.id="details-div2",u.className="container-details__containerborder-d",p.className="container-details__detailsfirsts",g.className="container-details__detailseconds",_.className="container-details__pais-d",v.className="container-details__population-d",f.className="container-details__native-d",E.className="container-details__region-d",h.className="container-details__imagen-d",C.className="container-details__subregion-d",N.className="container-details__capital-d",L.className="container-details__domain-d",T.className="container-details__domain-d",S.className="container-details__lenguage-d",m.className="container-details__border-container",m.id="border-container",b.className="container-details__titleborder",h.src=i.flags.png,_.textContent=i.name.common,f.innerHTML="<strong>Native Name:</strong> ".concat(i.name.official),v.innerHTML="<strong>Population:</strong> ".concat(i.population),E.innerHTML="<strong>Region:</strong> ".concat(i.region),C.innerHTML="<strong>Sub Region:</strong> ".concat(i.subregion),N.innerHTML="<strong>Capital:</strong> ".concat(null===(n=i.capital)||void 0===n?void 0:n[0]),L.innerHTML="<strong>Top Level Domain:</strong> ".concat(null===(t=i.tld)||void 0===t?void 0:t[0]),T.innerHTML="<strong>Currencies:</strong> ".concat(null===(a=Object.values(i.currencies)[0])||void 0===a?void 0:a.name," ").concat(null===(c=Object.values(i.currencies)[0])||void 0===c?void 0:c.symbol),S.innerHTML="<strong>Languages:</strong> ".concat(Object.values(i.languages).map((function(e){return e}))),b.innerHTML="<strong>Border Countries:</strong>",null===(o=i.borders)||void 0===o||o.map((function(e){var n=document.createElement("a");return n.className="container-details__link-paisborder",n.textContent=e,n.href="details.html?id=".concat(e),m.appendChild(n)})),l.appendChild(h),p.appendChild(_),p.appendChild(f),p.appendChild(v),p.appendChild(E),p.appendChild(C),p.appendChild(N),g.appendChild(L),g.appendChild(T),g.appendChild(S),s.appendChild(p),s.appendChild(g),u.appendChild(b),u.appendChild(m),s.appendChild(u),d.appendChild(l),d.appendChild(s),r.appendChild(d),container.appendChild(r)},SpinnerViews=function(e){loader.style.display=e};!function(){window.addEventListener("DOMContentLoaded",(function(){s(),u()}));var e,n=document.querySelector(".selected"),t=document.querySelector(".options-container"),a=document.querySelectorAll(".option"),c=document.getElementById("container-country2"),o=document.getElementById("loader"),i=document.getElementById("form"),r=document.getElementById("search__input");i.addEventListener("submit",(function(e){e.preventDefault(),r.value.length>=3&&l(r.value)})),r.addEventListener("change",(function(){""===r.value&&s()})),n.addEventListener("click",(function(){t.classList.toggle("active")})),a.forEach((function(e){e.addEventListener("click",(function(a){a.preventDefault(),n.innerHTML=e.querySelector("label").innerHTML,d(e.querySelector("input").value),t.classList.remove("active")}))}));var d=function(e){console.log(e),g("block"),p(),setTimeout((function(){var n=JSON.parse(localStorage.getItem("countries")).filter((function(n){return n.region===e}));u(n),g("none")}),800)},l=function(e){console.log(e),g("block"),p(),setTimeout((function(){var n=JSON.parse(localStorage.getItem("countries")).filter((function(n){return n.name.common===m(e)}));u(n),g("none")}),500)},s=function(){g("block"),p(),setTimeout((function(){if(JSON.parse(localStorage.getItem("countries"))){var e=JSON.parse(localStorage.getItem("countries"));u(e)}else fetch("https://restcountries.com/v3.1/all").then((function(e){return e.json()})).then((function(e){localStorage.setItem("countries",JSON.stringify(e));var n=JSON.parse(localStorage.getItem("countries"));u(n)}));g("none")}),1e3)},m=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},u=function(n){e=n,n&&e.map((function(e,n){var t=document.createDocumentFragment(),a=document.createElement("article"),o=document.createElement("a"),i=document.createElement("div"),r=document.createElement("div"),d=document.createElement("img"),l=document.createElement("h1"),s=document.createElement("h1"),m=document.createElement("p"),u=document.createElement("p");return a.className="card-paises",o.className="card-paises__link",i.className="card-paises__container1",r.className="card-paises__container2",d.className="card-paises__container1__imagen",l.className="card-paises__container2__pais",s.className="card-paises__container2__population",m.className="card-paises__container2__region",u.className="card-paises__container2__capital",d.alt=e.name,a.id=n,l.innerHTML=e.name.common,d.src=e.flags.png,o.href="details.html?id=".concat(e.cca3),s.innerHTML="<strong>Population:</strong> ".concat(e.population),m.innerHTML="<strong>Region:</strong> ".concat(e.region),u.innerHTML="<strong>Capital:</strong> ".concat(e.capital),o.appendChild(d),i.appendChild(o),r.appendChild(l),r.appendChild(s),r.appendChild(m),r.appendChild(u),a.appendChild(i),a.appendChild(r),t.appendChild(a),c.appendChild(t)}))},p=function(){if(c.children.length>=1)for(;c.firstChild;)c.removeChild(c.firstChild)},g=function(e){o.style.display=e}}();