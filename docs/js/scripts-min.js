"use strict";var themeButton=document.getElementById("image"),valor=!0,darkTheme="dark-theme",selectedTheme=localStorage.getItem("selected-theme"),userHasDarkTheme=window.matchMedia("(prefers-color-scheme: dark)").matches,getCurrentTheme=function(){return document.body.classList.contains(darkTheme)?"dark":"light"};selectedTheme?document.body.classList["dark"===selectedTheme?"add":"remove"](darkTheme):userHasDarkTheme&&document.body.classList.add(darkTheme),window.onload=themeButton.addEventListener("click",(function(){document.body.classList.toggle(darkTheme),localStorage.setItem("selected-theme",getCurrentTheme())}));var loader=document.getElementById("loader");window.addEventListener("load",(function(){var e=new URLSearchParams(window.location.search).get("id");e&&getPaisID(e)}));var container=document.getElementById("detail_section2"),getPaisID=function(e){SpinnerViews("block"),setTimeout((function(){fetch("https://restcountries.eu/rest/v2/alpha/".concat(e)).then((function(e){return e.json()})).then((function(e){return createElementDetails(e)})),SpinnerViews("none")}),500)},createElementDetails=function(e){var n=document.createDocumentFragment(),t=document.createElement("article"),a=document.createElement("div"),c=document.createElement("div"),i=document.createElement("div"),o=document.createElement("div"),r=document.createElement("div"),d=document.createElement("div"),l=document.createElement("img"),s=document.createElement("h1"),m=document.createElement("p"),u=document.createElement("p"),p=document.createElement("p"),g=document.createElement("p"),h=document.createElement("p"),_=document.createElement("p"),f=document.createElement("p"),v=document.createElement("p"),E=document.createElement("h2");t.classList="container-details__article",a.className="container-details__details-div1",a.id="details-div1",c.className="container-details__details-div2",c.id="details-div2",o.className="container-details__containerborder-d",r.className="container-details__detailsfirsts",d.className="container-details__detailseconds",s.className="container-details__pais-d",m.className="container-details__population-d",u.className="container-details__native-d",p.className="container-details__region-d",l.className="container-details__imagen-d",g.className="container-details__subregion-d",h.className="container-details__capital-d",_.className="container-details__domain-d",f.className="container-details__domain-d",v.className="container-details__lenguage-d",i.className="container-details__border-container",i.id="border-container",E.className="container-details__titleborder",l.src=e.flag,s.textContent=e.name,u.innerHTML="<strong>Native Name:</strong> ".concat(e.nativeName),m.innerHTML="<strong>Population:</strong> ".concat(e.population),p.innerHTML="<strong>Region:</strong> ".concat(e.region),g.innerHTML="<strong>Sub Region:</strong> ".concat(e.subregion),h.innerHTML="<strong>Capital:</strong> ".concat(e.capital),_.innerHTML="<strong>Top Level Domain:</strong> ".concat(e.topLevelDomain[0]),f.innerHTML="<strong>Currencies:</strong> ".concat(e.currencies[0].name),v.innerHTML="<strong>Languages:</strong> ".concat(e.languages.map((function(e){return e.name}))),E.innerHTML="<strong>Border Countries:</strong>",e.borders.map((function(e){var n=document.createElement("a");return n.className="container-details__link-paisborder",n.textContent=e,i.appendChild(n)})),a.appendChild(l),r.appendChild(s),r.appendChild(u),r.appendChild(m),r.appendChild(p),r.appendChild(g),r.appendChild(h),d.appendChild(_),d.appendChild(f),d.appendChild(v),c.appendChild(r),c.appendChild(d),o.appendChild(E),o.appendChild(i),c.appendChild(o),t.appendChild(a),t.appendChild(c),n.appendChild(t),container.appendChild(n)},SpinnerViews=function(e){loader.style.display=e};!function(){window.addEventListener("DOMContentLoaded",(function(){s(),u()}));var e,n=document.querySelector(".selected"),t=document.querySelector(".options-container"),a=document.querySelectorAll(".option"),c=document.getElementById("container-country2"),i=document.getElementById("loader"),o=document.getElementById("form"),r=document.getElementById("search__input");o.addEventListener("submit",(function(e){e.preventDefault(),r.value.length>=3&&l(r.value)})),r.addEventListener("change",(function(){""===r.value&&s()})),n.addEventListener("click",(function(){t.classList.toggle("active")})),a.forEach((function(e){e.addEventListener("click",(function(a){a.preventDefault(),n.innerHTML=e.querySelector("label").innerHTML,d(e.querySelector("input").value),t.classList.remove("active")}))}));var d=function(e){console.log(e),g("block"),p(),setTimeout((function(){var n=JSON.parse(localStorage.getItem("countries")).filter((function(n){return n.region===e}));u(n),g("none")}),800)},l=function(e){console.log(e),g("block"),p(),setTimeout((function(){var n=JSON.parse(localStorage.getItem("countries")).filter((function(n){return n.name.common===m(e)}));u(n),g("none")}),500)},s=function(){g("block"),p(),setTimeout((function(){if(JSON.parse(localStorage.getItem("countries"))){var e=JSON.parse(localStorage.getItem("countries"));u(e)}else fetch("https://restcountries.com/v3.1/all").then((function(e){return e.json()})).then((function(e){localStorage.setItem("countries",JSON.stringify(e));var n=JSON.parse(localStorage.getItem("countries"));u(n)}));g("none")}),1e3)},m=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},u=function(n){e=n,n&&e.map((function(e,n){var t=document.createDocumentFragment(),a=document.createElement("article"),i=document.createElement("a"),o=document.createElement("div"),r=document.createElement("div"),d=document.createElement("img"),l=document.createElement("h1"),s=document.createElement("h1"),m=document.createElement("p"),u=document.createElement("p");return a.className="card-paises",i.className="card-paises__link",o.className="card-paises__container1",r.className="card-paises__container2",d.className="card-paises__container1__imagen",l.className="card-paises__container2__pais",s.className="card-paises__container2__population",m.className="card-paises__container2__region",u.className="card-paises__container2__capital",d.alt=e.name,a.id=n,l.innerHTML=e.name.common,d.src=e.flags.png,i.href="details.html?id=".concat(e.alpha2Code),s.innerHTML="<strong>Population:</strong> ".concat(e.population),m.innerHTML="<strong>Region:</strong> ".concat(e.region),u.innerHTML="<strong>Capital:</strong> ".concat(e.capital),i.appendChild(d),o.appendChild(i),r.appendChild(l),r.appendChild(s),r.appendChild(m),r.appendChild(u),a.appendChild(o),a.appendChild(r),t.appendChild(a),c.appendChild(t)}))},p=function(){if(c.children.length>=1)for(;c.firstChild;)c.removeChild(c.firstChild)},g=function(e){i.style.display=e}}();